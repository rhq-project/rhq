<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE plugin [

<!ENTITY datasourceAndConnectionFactoryOperations '
    <operation name="flush" displayName="Flush"
               description="Flush the connections in the pool"/>

    <operation name="listFormattedSubPoolStatistics" displayName="List Formatted Sub Pool Statistics"
               description="Obtain a formatted statistics report">
        <parameters>
            <c:simple-property required="false" name="formatClassName" description="The StatisticsFormatter class name"/>
        </parameters>
        <results>
            <c:simple-property name="result" type="longString"/>
        </results>
    </operation>

    <operation name="listStatistics" displayName="List Statistics" description="Obtain a statistics report">
        <results>
            <c:map-property name="result"/>
        </results>
    </operation>
'>

<!ENTITY datasourceMetrics '
    <metric property="availableConnectionCount" measurementType="dynamic" displayType="summary" displayName="Available Connection Count" description="number of available connection" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="connectionCount" measurementType="dynamic" displayType="summary" displayName="Connection Count" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="connectionCreatedCount" measurementType="dynamic" displayType="detail" displayName="Connection Created Count" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="connectionDestroyedCount" measurementType="dynamic" displayType="detail" displayName="Connection Destroyed Count" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="inUseConnectionCount" measurementType="dynamic" displayType="detail" displayName="In Use Connection Count" description="number of connections currently in use" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="local-transaction" displayType="summary" displayName="Local Transaction" defaultOn="true" defaultInterval="60000" dataType="trait" category="performance"/>
    <metric property="maxConnectionsInUseCount" measurementType="dynamic" displayType="detail" displayName="Max Connections In Use Count" description="number of maximum connections in use" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="maxSize" measurementType="dynamic" displayType="detail" displayName="Max Size" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="minSize" measurementType="dynamic" displayType="detail" displayName="Min Size" defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>
    <metric property="poolJndiName" displayType="summary" displayName="Pool Jndi Name" defaultOn="true" defaultInterval="60000" dataType="trait" category="performance"/>
'>

<!-- NOTE: For Datasource ManagedProperty annotations, see:
     https://anonsvn.jboss.org/repos/jbossas/trunk/connector/src/main/org/jboss/resource/metadata/mcf/DataSourceDeploymentMetaData.java
     Descriptions of datasource config props can also be culled from:
     https://anonsvn.jboss.org/repos/jbossas/trunk/connector/src/resources/dtd/jboss-ds_5_0.dtd
     and:
     http://www.jboss.org/file-access/default/members/jbossas/freezone/docs/Server_Configuration_Guide/beta500/html/ch13s13.html
  -->

<!ENTITY datasourceConnectionResourceConfigProps '
    <c:simple-property name="jndi-name"
                       displayName="JNDI Name"
                       description="The global JNDI Name under which to bind the datasource"
                       type="string"/>

    <c:simple-property name="user-name"
                       displayName="Username"
                       description="The default username when creating a new connection."
                       type="string"
                       activationPolicy="immediate"
                       required="false"/>

    <c:simple-property name="password"
                       displayName="Password"
                       description="The default password when creating a new connection."
                       type="password"
                       activationPolicy="immediate"
                       required="false"/>

    <c:simple-property name="min-pool-size"
                       displayName="Minimum Pool Size"
                       description="Indicates the minimum number of connections the pool should hold."
                       type="integer"
                       activationPolicy="immediate"
                       required="false">
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
        <c:defaultValueDescription>If nothing is specified, the default of 0 will be used.
        </c:defaultValueDescription>
    </c:simple-property>

    <c:simple-property name="max-pool-size"
                       displayName="Maximum Pool Size"
                       description="Indicates the maximum number of connections the pool should hold."
                       activationPolicy="immediate"
                       type="integer"
                       required="false">
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
        <c:defaultValueDescription>If nothing is specified, the default of 20 will be used.
        </c:defaultValueDescription>
    </c:simple-property>
'>

<!ENTITY datasourceAdvancedResourceConfigProps '
    <c:simple-property name="transaction-isolation" required="false"
                       description="The Transaction Isolation level. The default setting is to use whichever isolation level is provided by default by the database.">
        <c:property-options>
            <c:option value="TRANSACTION_READ_UNCOMMITTED" name="Read Uncommitted"/>
            <c:option value="TRANSACTION_READ_COMMITTED" default="true" name="Read Committed"/>
            <c:option value="TRANSACTION_REPEATABLE_READ" name="Repeatable Read"/>
            <c:option value="TRANSACTION_SERIALIZABLE" name="Serializable"/>
            <c:option value="TRANSACTION_NONE" name="None"/>
        </c:property-options>
    </c:simple-property>

    <c:simple-property name="blocking-timeout-millis" displayName="Blocking Timeout in Milliseconds"
                       units="milliseconds"
                       activationPolicy="immediate" type="integer" required="false">
        <c:description>
            Indicates the maximum time in milliseconds to block while waiting for a connection before
            throwing
            an exception. Note that this blocks only while waiting for a permit for a connection, and
            will never
            throw an exception if creating a new connection takes an inordinately long time. If nothing
            is specified
            the default of 30000 milliseconds is used.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="idle-timeout-minutes" type="integer" activationPolicy="immediate"
                       displayName="Idle Timeout" units="minutes" required="false" default="15">
        <c:description>
            The maximum time, in minutes, a connection may be idle before being closed. Default is 15 minutes.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="set-tx-query-timeout"
                       displayName="Set Tx Query Timeout"
                       description="whether to set the query timeout based on the time remaining until transaction timeout;
                  any configured query timeout will be used if there is no transaction. The default is false."
                       type="boolean"
                       required="false"
                       activationPolicy="immediate"/>

    <c:simple-property name="query-timeout"
                       displayName="Query Timeout"
                       description="Any configured query timeout in seconds; the default is no timeout."
                       type="integer"
                       units="seconds"
                       required="false"
                       activationPolicy="immediate"/>

    <c:simple-property name="prepared-statement-cache-size" type="integer" activationPolicy="immediate"
                       displayName="Prepared Statement Cache Size" required="false" default="0">
        <c:description>
            The number of prepared statements per connection to be kept open and reused in subsequent requests. They are
            stored in an LRU cache. The default is 0 (zero), meaning no cache.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="share-prepared-statements" displayName="Share Prepared Statements"
                       description="Should prepared statements be shared? (default is false)"
                       type="boolean"
                       required="false">
        <c:property-options>
            <c:option name="yes" value="true"/>
            <c:option name="no" value="false"/>
        </c:property-options>
        <c:defaultValueDescription>If nothing is specified, the default of false will be used.
        </c:defaultValueDescription>
    </c:simple-property>

    <c:simple-property name="valid-connection-checker-class-name" type="string"
                       activationPolicy="immediate"
                       displayName="Valid Connection Checker Class Name" required="false">
        <c:description>Fully qualified name of the Java class used to validate if a connection is valid.</c:description>
    </c:simple-property>

    <c:simple-property name="stale-connection-checker-class-name"
                       displayName="Stale Connection Checker Class Name"
                       description="Fully qualified name of the Java class used to check if a connection has become stale."
                       type="string"
                       required="false"/>

    <c:simple-property name="use-java-context"
                       displayName="Use Java Context"
                       type="boolean"
                       required="false">
        <c:description>Indicates whether the JNDI name should be bound under the java context,
            which causes the DataSource to only be accessible from within the JBoss server VM.
            The default is true.</c:description>
        <c:property-options>
            <c:option name="True" value="true"/>
            <c:option name="False" value="false"/>
        </c:property-options>
        <c:defaultValueDescription>If nothing is specified, the default of true will be used.
        </c:defaultValueDescription>
    </c:simple-property>

    <c:map-property name="security-domain" displayName="Security Settings" required="false">
        <c:description>
            Security settings
        </c:description>

        <c:simple-property name="domain" type="string"
                           required="false">
            <c:description>
                The name of the JAAS security manager that will handle
                authentication (only required if security deployment type is DOMAIN or DOMAIN_AND_APPLICATION).
                This name correlates to the JAAS login-config.xml descriptor application-policy/name attribute.
            </c:description>
        </c:simple-property>

        <c:simple-property name="securityDeploymentType" type="string"
                           description="the type of security deployment"
                           required="false">
            <c:description>
                Indicates whether Subject (from security domain), application-supplied parameters
                (such as from getConnection(user, pw)), both Subject and app-supplied parameters,
                or neither Subject nor app-supplied parameters are used to distinguish connections
                in the pool.
            </c:description>
            <c:property-options>
                <c:option name="None" value="NONE"/>
                <c:option name="Application" value="APPLICATION"/>
                <c:option name="Domain" value="DOMAIN"/>
                <c:option name="Domain and Application" value="DOMAIN_AND_APPLICATION"/>
            </c:property-options>
        </c:simple-property>

    </c:map-property>

    <c:simple-property name="new-connection-sql" type="longString" activationPolicy="immediate"
                       displayName="New Connection SQL" required="false">
        <c:description>SQL statement to execute whenever a new connection is added to the pool;
            this can be used to set the connection schema, etc.
        </c:description>
    </c:simple-property>

    <c:simple-property name="exception-sorter-class-name" type="string" activationPolicy="immediate"
                       displayName="Exception Sorter Class Name" required="false">
        <c:description>Java class to check if an exception should be broadcast.</c:description>
    </c:simple-property>

    <c:simple-property name="check-valid-connection-sql" type="longString" activationPolicy="immediate"
                       displayName="Check Valid Connection SQL" required="false">
        <c:description>SQL to check the validity of a pool connection.</c:description>
    </c:simple-property>

    <c:simple-property name="track-statements" type="string" activationPolicy="immediate"
                       displayName="Track Statements" required="false">
        <c:description>Whether to check for unclosed statements when the connection is returned to the
            pool.
        </c:description>
        <c:property-options>
            <c:option name="No" value="no"/>
            <c:option name="Yes" value="yes"/>
            <c:option name="Yes, but no warnings" value="yes-no-warnings" default="true"/>
        </c:property-options>
        <c:defaultValueDescription>If nothing is specified, the default of &quot;Yes, but not warnings&quot; will
            be used.
        </c:defaultValueDescription>
    </c:simple-property>

    <!-- TODO -->
    <!--<c:map-property name="connection-properties" displayName="Connection Properties" required="false">
       <c:description>
          Properties used to configure the DataSource. Each property should be on a separate
          line, with the name separated from the value by an equals sign.
       </c:description>
    </c:map-property>-->

    <c:simple-property name="noTxSeparatePools" type="boolean" activationPolicy="immediate"
                       displayName="No Tx Separate Pools" required="false">
        <c:description>Whether or not to use separate pools.</c:description>
        <c:property-options>
            <c:option name="True" value="true"/>
            <c:option name="False" value="false"/>
        </c:property-options>
        <c:defaultValueDescription>If nothing is specified, the default of true will be used.
        </c:defaultValueDescription>
    </c:simple-property>

    <c:simple-property name="type-mapping" displayName="Type Mappings" required="false"/>

    <c:simple-property type="integer" required="false" name="allocation-retry"/>

    <c:simple-property type="long" required="false" name="allocation-retry-wait-millis" units="milliseconds"/>

    <c:simple-property type="boolean" required="false" name="background-validation" default="false">
        <c:description>
            An element to specify that connections should be validated on a background thread versus being validated
            prior to use. Background validation is meant to reduce the overall load on the RDBMS system when validating
            a connection.
        </c:description>
    </c:simple-property>

    <c:simple-property type="long" required="false" name="background-validation-millis" units="milliseconds">
        <c:description>
            The interval, in milliseconds, at which the ConnectionValidator will run. Default is 10 minutes. Set to 0 to
            disable background validation.
        </c:description>
    </c:simple-property>

    <c:simple-property required="false" name="connection-definition"/>

    <c:simple-property type="boolean" required="false" name="isSameRM-override-value"/>

    <c:simple-property required="false" name="jmx-invoker-name"/>

    <c:map-property required="false" name="metadata">
        <c:simple-property required="true" name="typeMapping"
                           description="The name of the corresponding type-mapping in conf/standardjbosscmp-jdbc.xml">
            <c:property-options>
                <c:option name="FirstSQL/J" value="FirstSQL/J"/>
                <c:option name="Ingres" value="Ingres"/>
                <c:option name="McKoi" value="McKoi"/>
                <c:option name="Firebird" value="Firebird"/>
                <c:option name="InterBase" value="InterBase"/>
                <c:option name="DB2" value="DB2"/>
                <c:option name="Derby" value="Derby"/>
                <c:option name="Oracle9i" value="Oracle9i"/>
                <c:option name="Oracle8" value="Oracle8"/>
                <c:option name="Oracle7" value="Oracle7"/>
                <c:option name="Sybase" value="Sybase"/>
                <c:option name="PostgreSQL" value="PostgreSQL"/>
                <c:option name="PostgreSQL 8.0" value="PostgreSQL 8.0"/>
                <c:option name="PostgreSQL 7.2" value="PostgreSQL 7.2"/>
                <c:option name="Hypersonic SQL" value="Hypersonic SQL"/>
                <c:option name="PointBase" value="PointBase"/>
                <c:option name="SOLID" value="SOLID"/>
                <c:option name="MS SQLSERVER" value="MS SQLSERVER"/>
                <c:option name="MS SQLSERVER2000" value="MS SQLSERVER2000"/>
                <c:option name="DB2/400" value="DB2/400"/>
                <c:option name="SapDB" value="SapDB"/>
                <c:option name="MaxDB" value="MaxDB"/>
                <c:option name="Cloudscape" value="Cloudscape"/>
                <c:option name="InformixDB" value="InformixDB"/>
                <c:option name="Mimer SQL" value="Mimer SQL"/>
            </c:property-options>
        </c:simple-property>
    </c:map-property>

    <c:simple-property type="boolean" required="false" name="prefill"/>

    <c:simple-property required="false" name="rar-name"/>

    <c:simple-property required="false" name="statistics-formatter"/>

    <c:simple-property required="false" name="url-delimiter" description="The DataSource url delimiter"/>

    <c:simple-property required="false" name="url-selector-strategy-class-name" description="The DataSource url selector strategy class name"/>

    <c:simple-property type="boolean" required="false" name="use-strict-min"/>

    <c:simple-property type="long" required="false" name="use-try-lock" default="60000">
        <c:description>
            Any configured timeout, in milliseconds, for internal locks on the resource adapter objects - the default is
            60 seconds.
        </c:description>
    </c:simple-property>

    <c:simple-property type="boolean" required="false" name="validate-on-match">
        <c:description>
            The validate-on-match element indicates whether or not connection level validation should be done when a
            connection factory attempts to match a managed connection for a given set. This is typically exclusive to
            the use of background validation.
        </c:description>
    </c:simple-property>
    
    <c:map-property name="connection-properties" required="false"/>
'>

<!ENTITY nonXaDatasourceConnectionResourceConfigProps '
    <c:simple-property name="driver-class"
                       displayName="JDBC Driver Class"
                       description="The fully qualified name of the JDBC driver class."
                       type="string"
                       activationPolicy="immediate"/>

    <c:simple-property name="connection-url"
                       displayName="Connection URL"
                       description="The JDBC driver URL string."
                       type="string"
                       activationPolicy="immediate"/>
'>

<!ENTITY nonXaDatasourceOracleTemplateProps '
    <c:simple-property name="type" default="local-tx-datasource"/>
    <c:simple-property name="jndi-name" default="OracleDS"/>
    <c:simple-property name="driver-class" default="oracle.jdbc.driver.OracleDriver"/>
    <c:simple-property name="connection-url" default="jdbc:oracle:oci:@youroracle-tns-name"/>
    <c:simple-property name="exception-sorter-class-name"
                       default="org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter"/>
    <c:simple-property name="check-valid-connection-sql" default="SELECT * FROM DUAL"/>
    <c:simple-property name="type-mapping" default="oracle.jdbc.driver.OracleDriver"/>
    <c:simple-property name="use-try-lock" default="60000"/>
    <c:map-property name="metadata">
        <c:simple-property name="typeMapping" default="Oracle9i"/>
    </c:map-property>
'>

<!-- See: https://anonsvn.jboss.org/repos/jbossas/trunk/connector/src/main/org/jboss/resource/metadata/mcf/ManagedConnectionFactoryDeploymentMetaData.java -->

<!ENTITY connectionFactoryConnectionResourceConfigProps '
    <c:simple-property required="true" name="jndi-name"
                       description="The global JNDI name to bind the connection factory under."/>

    <c:simple-property name="min-pool-size"
                       displayName="Minimum Pool Size"
                       description="Indicates the minimum number of connections the pool should hold - default is 0."
                       type="integer"
                       activationPolicy="immediate"
                       required="false">
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="max-pool-size"
                       displayName="Maximum Pool Size"
                       description="Indicates the maximum number of connections the pool should hold - default is 20."
                       activationPolicy="immediate"
                       type="integer"
                       required="false">
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>
'>

<!ENTITY connectionFactoryAdvancedResourceConfigProps '
    <c:simple-property type="integer" required="false" name="allocation-retry"/>

    <c:simple-property type="long" required="false" name="allocation-retry-wait-millis"/>

    <c:simple-property name="background-validation"
                       type="boolean"
                       activationPolicy="immediate"
                       displayName="Use Strict Minimum"
                       required="false">
        <c:description>Whether on not to perform background validation.</c:description>
    </c:simple-property>

    <c:simple-property name="background-validation-millis"
                       displayName="Background Validation Iterval"
                       units="milliseconds"
                       activationPolicy="immediate"
                       type="integer"
                       required="false">
        <c:description>
            Indicates the maximum time in minutes to validate the Connection in the background.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="blocking-timeout-millis"
                       displayName="Blocking Timeout in Milliseconds"
                       units="milliseconds"
                       activationPolicy="immediate"
                       type="integer"
                       required="false">
        <c:description>
            Indicates the maximum time in milliseconds to block while waiting for a connection before throwing
            an exception. Note that this blocks only while waiting for a permit for a connection, and will never
            throw an exception if creating a new connection takes an inordinately long time. If nothing is specified
            the default of 30000 milliseconds is used.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:map-property required="false" name="config-property"/>

    <c:simple-property required="false" name="connection-definition"/>

    <c:simple-property name="idle-timeout-minutes"
                       type="integer"
                       activationPolicy="immediate"
                       displayName="Idle Timeout"
                       units="minutes"
                       required="false">
        <c:description>Maximum time in minutes a connection can be idle before it is closed.
        </c:description>
        <c:constraint>
            <c:integer-constraint minimum="0"/>
        </c:constraint>
    </c:simple-property>

    <c:simple-property name="isSameRM-override-value"
                       type="boolean"
                       activationPolicy="immediate"
                       displayName="isSameRM Override Value"
                       required="false">
        <c:description>Allows one to unconditionally set whether the
            javax.transaction.xa.XAResource.isSameRMXAResource returns true or false. The default is false.
        </c:description>
    </c:simple-property>

    <c:simple-property required="false" name="jmx-invoker-name"/>

    <c:map-property required="false" name="metadata">
        <c:simple-property required="true" name="typeMapping"
                           description="The name of the corresponding type-mapping in conf/standardjbosscmp-jdbc.xml">
            <c:property-options>
                <c:option name="FirstSQL/J" value="FirstSQL/J"/>
                <c:option name="Ingres" value="Ingres"/>
                <c:option name="McKoi" value="McKoi"/>
                <c:option name="Firebird" value="Firebird"/>
                <c:option name="InterBase" value="InterBase"/>
                <c:option name="DB2" value="DB2"/>
                <c:option name="Derby" value="Derby"/>
                <c:option name="Oracle9i" value="Oracle9i"/>
                <c:option name="Oracle8" value="Oracle8"/>
                <c:option name="Oracle7" value="Oracle7"/>
                <c:option name="Sybase" value="Sybase"/>
                <c:option name="PostgreSQL" value="PostgreSQL"/>
                <c:option name="PostgreSQL 8.0" value="PostgreSQL 8.0"/>
                <c:option name="PostgreSQL 7.2" value="PostgreSQL 7.2"/>
                <c:option name="Hypersonic SQL" value="Hypersonic SQL"/>
                <c:option name="PointBase" value="PointBase"/>
                <c:option name="SOLID" value="SOLID"/>
                <c:option name="MS SQLSERVER" value="MS SQLSERVER"/>
                <c:option name="MS SQLSERVER2000" value="MS SQLSERVER2000"/>
                <c:option name="DB2/400" value="DB2/400"/>
                <c:option name="SapDB" value="SapDB"/>
                <c:option name="MaxDB" value="MaxDB"/>
                <c:option name="Cloudscape" value="Cloudscape"/>
                <c:option name="InformixDB" value="InformixDB"/>
                <c:option name="Mimer SQL" value="Mimer SQL"/>
            </c:property-options>
        </c:simple-property>
    </c:map-property>

    <c:simple-property name="no-tx-separate-pools"
                       type="boolean"
                       activationPolicy="immediate"
                       displayName="No Tx Separate Pools"
                       required="false">
        <c:description>Whether or not to use separate pools - default is true.</c:description>
    </c:simple-property>

    <c:simple-property name="prefill"
                       type="boolean"
                       activationPolicy="immediate"
                       displayName="Prefill"
                       description="Prefill the pool with Connection objects, or lazy load objects in the pool - default is false."
                       required="false">
        <c:description>Whether or not to use prefill.</c:description>
    </c:simple-property>

    <c:simple-property required="false" name="rar-name" displayName="RAR Name"/>

    <c:map-property name="security-domain" displayName="Security Settings" required="false">
        <c:description>
            Security settings
        </c:description>

        <c:simple-property name="domain" type="string"
                           required="false">
            <c:description>
                The name of the JAAS security manager that will handle
                authentication (only required if security deployment type is DOMAIN or DOMAIN_AND_APPLICATION).
                This name correlates to the JAAS login-config.xml descriptor application-policy/name attribute.
            </c:description>
        </c:simple-property>

        <c:simple-property name="securityDeploymentType" type="string"
                           description="the type of security deployment"
                           required="false">
            <c:description>
                Indicates whether Subject (from security domain), application-supplied parameters
                (such as from getConnection(user, pw)), both Subject and app-supplied parameters,
                or neither Subject nor app-supplied parameters are used to distinguish connections
                in the pool.
            </c:description>
            <c:property-options>
                <c:option name="None" value="NONE"/>
                <c:option name="Application" value="APPLICATION"/>
                <c:option name="Domain" value="DOMAIN"/>
                <c:option name="Domain and Application" value="DOMAIN_AND_APPLICATION"/>
            </c:property-options>
        </c:simple-property>
    </c:map-property>

    <c:simple-property required="false" name="statistics-formatter"/>

    <c:simple-property name="track-connection-by-tx"
                       type="boolean"
                       activationPolicy="immediate"
                       displayName="Track Connection By Transaction"
                       required="false">
        <c:description>Whether the connection should be locked into the transaction.</c:description>
    </c:simple-property>

    <c:simple-property required="false" name="type-mapping"/>

    <c:simple-property name="use-java-context"
                       description="Indicates if the JNDI name should be prefixed with java: - default is true."
                       type="boolean"
                       required="false">
    </c:simple-property>

    <c:simple-property name="use-strict-min"
                       type="boolean"
                       activationPolicy="immediate"
                       displayName="Use Strict Minimum"
                       required="false">
        <c:description>Whether on not to use strict minumum - default is false.</c:description>
    </c:simple-property>

    <c:simple-property name="validate-on-match"
                       type="boolean"
                       activationPolicy="immediate"
                       required="false">
        <c:description>Whether on not to validate on match - default is false.</c:description>
    </c:simple-property>
'>        

<!-- These are the operations that Topics and Queues both have. -->
<!ENTITY destinationOperations '
    <operation name="create" displayName="Create" description="Service lifecycle operation"/>

    <operation name="destroy" displayName="Destroy" description="Service lifecycle operation"/>

    <operation name="listAllMessages" displayName="List All Messages" description="List all messages for the specified subscription">
        <parameters>
            <c:simple-property required="false" name="arg#0"/>
        </parameters>
        <results>
            <c:list-property name="result">
                <c:map-property required="false" name="element"/>
            </c:list-property>
        </results>
    </operation>

    <operation name="listDurableMessages" displayName="List Durable Messages" description="List all durable messages for the specified subscription">
        <parameters>
            <c:simple-property required="false" name="arg#0"/>
        </parameters>
        <results>
            <c:list-property name="result">
                <c:map-property required="false" name="element"/>
            </c:list-property>
        </results>
    </operation>

    <operation name="listNonDurableMessages" displayName="List Non Durable Messages" description="List all non durable messages for the specified subscription">
        <parameters>
            <c:simple-property required="false" name="arg#0"/>
        </parameters>
        <results>
            <c:list-property name="result">
                <c:map-property required="false" name="element"/>
            </c:list-property>
        </results>
    </operation>

    <operation name="removeAllMessages" displayName="Remove All Messages" description="Remove all messages"/>

    <operation name="start" displayName="Start" description="Service lifecycle operation"/>

    <operation name="stop" displayName="Stop" description="Service lifecycle operation"/>
'>

<!ENTITY deploymentResourceConfigProps '
    <c:simple-property type="boolean" required="false" name="blackList"/>
    <c:simple-property type="boolean" required="false" name="cache"/>
    <c:simple-property required="false" name="domain"/>
    <c:simple-property required="false" name="excluded"/>
    <c:simple-property required="false" name="excludedExport"/>
    <c:simple-property required="false" name="exportAll">
        <c:property-options>
            <c:option name="all" value="ALL"/>
            <c:option name="non-empty" value="NON_EMPTY"/>
        </c:property-options>
    </c:simple-property>
    <c:simple-property type="boolean" required="false" name="importAll"/>
    <c:simple-property required="false" name="included"/>
    <c:simple-property required="false" name="name"/>
    <c:simple-property required="false" name="parentDomain"/>
    <c:simple-property type="boolean" required="false" name="parentFirst"/>
    <c:simple-property required="false" name="version"/>
'>

]>

<plugin name="JBossAS5" displayName="JBoss Application Server 5.x" package="org.rhq.plugins.jbossas5"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="urn:xmlns:rhq-plugin"
        xmlns:c="urn:xmlns:rhq-configuration">

    <server name="JBossAS Server"
            class="ApplicationServerComponent"
            discovery="ApplicationServerDiscoveryComponent"
            description="JBoss Application Server">

        <subcategories>
            <subcategory name="Environment"/>
            <subcategory name="Resources"
                         description="Different types of Resources">
                <subcategory name="Datasources"
                    description="Different types of Datasources"/>
                <subcategory name="Connection Factories"
                    description="Different types of Connection Factories"/>
                <subcategory name="JMS Destinations"
                             description="Different types of JMS Destinations"/>
            </subcategory>
            <subcategory name="Applications"
                description="Different types of Applications">
            </subcategory>
        </subcategories>

        <!--<content name="library" displayName="Jar Library" category="deployable"
                description="Library Jar files deployed in JBoss AS">
             <configuration>
                <c:simple-property name="version" readOnly="true" description="The version declared by the JAR's manifest."/>
                <c:simple-property name="title" readOnly="true" description="The title declared by the JAR's manifest."/>
                <c:simple-property name="url" readOnly="true" description="The url declared by the JAR's manifest."/>
                <c:simple-property name="vendor" readOnly="true" description="The vendor declared by the JAR's manifest."/>
                <c:simple-property name="classpath" readOnly="true"
                                   description="The classpath declared by the JAR's manifest."/>
                <c:simple-property name="sealed" readOnly="true" type="boolean" description="True if the JAR is sealed."/>
            </configuration>
        </content>-->

        <service name="No TX Datasource"
                 class="ManagedComponentComponent"
                 discovery="ManagedComponentDiscoveryComponent"
                 createDeletePolicy="both"
                 subCategory="Datasources"
                 description="No Transaction Datasources deployed in the instance of JBoss AS">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="DataSource" readOnly="true"/>
                <c:simple-property name="componentSubType" default="NoTX" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="NoTxDataSourceTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="jndi-name">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup" displayName="managedPropertyGroup">
                    <c:simple-property name="datasource-type" default="no-tx-datasource">
                        <c:defaultValueDescription>Profile Services managed property call datasource type
                            which is used for datasources to have the correct main tag in a xxx-ds.xml file"
                        </c:defaultValueDescription>
                    </c:simple-property>
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom Metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            &datasourceAndConnectionFactoryOperations;

            &datasourceMetrics;

            <resource-configuration>

                <!-- For ManagedProperty annotations, see:
                     https://anonsvn.jboss.org/repos/jbossas/trunk/connector/src/main/org/jboss/resource/metadata/mcf/NoTXDataSourceDeploymentMetaData.java -->

                <c:group name="connection" displayName="Connection Information">
                    &datasourceConnectionResourceConfigProps;
                    &nonXaDatasourceConnectionResourceConfigProps;
                </c:group>

                <c:group name="advanced" displayName="Advanced">
                    &datasourceAdvancedResourceConfigProps;

                    <c:simple-property name="track-connection-by-tx" type="boolean" activationPolicy="immediate"
                                       displayName="Track Connection By Transaction" required="false">
                        <c:description>Whether the connection should be locked into the transaction.</c:description>
                    </c:simple-property>

 			<!--     
                    <c:list-property required="false" name="config-property" displayName="Connection Factory Properties"
                                     description="The managed connection factory configuration properties">
                        <c:map-property name="org.jboss.resource.metadata.mcf.ManagedConnectionFactoryPropertyMetaData"
                                        description="Map&lt;String,MetaValue&gt;">
                            <c:simple-property name="type"/>
                            <c:simple-property name="name"/>
                            <c:simple-property name="value"/>
                        </c:map-property>
                    </c:list-property>
                          
                    <c:map-property required="false" name="config-property" displayName="Connection Factory Properties"
                                    description="The managed connection factory configuration properties"/>
            -->
                </c:group>

                <c:template name="Oracle No TX" description="No Transaction Template for Oracle">
                    &nonXaDatasourceOracleTemplateProps;
                </c:template>

            </resource-configuration>

        </service>

        <service name="Local TX Datasource"
                 class="ManagedComponentComponent"
                 discovery="ManagedComponentDiscoveryComponent"
                 createDeletePolicy="both"
                 subCategory="Datasources"
                 description="Local Transaction Datasources deployed in the instance of JBoss AS">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="DataSource" readOnly="true"/>
                <c:simple-property name="componentSubType" default="LocalTx" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="LocalTxDataSourceTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="jndi-name">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup" displayName="managedPropertyGroup" hiddenByDefault="true">
                    <c:simple-property name="datasource-type" default="local-tx-datasource">
                        <c:defaultValueDescription>Profile Services managed property call datasource type
                            which is used for datasources to have the correct main tag in a xxx-ds.xml file
                        </c:defaultValueDescription>
                    </c:simple-property>
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            &datasourceAndConnectionFactoryOperations;

            &datasourceMetrics;

            <metric displayName="Connection Count" property="connectionCount" displayType="summary"/>
            <metric displayName="Available Connection Count" property="availableConnectionCount" displayType="summary"/>
            <metric displayName="Maximum Connections in Use Count" property="maxConnectionsInUseCount"/>
            <metric displayName="In Use Connection Count" property="inUseConnectionCount"/>
            <metric displayName="Connection Created Count" property="connectionCreatedCount"/>
            <metric displayName="Connection Destroyed Count" property="connectionDestroyedCount"/>

            <resource-configuration>

                <!-- For ManagedProperty annotations, see:
                     https://anonsvn.jboss.org/repos/jbossas/trunk/connector/src/main/org/jboss/resource/metadata/mcf/LocalDataSourceDeploymentMetaData.java -->
                
                <c:group name="connection" displayName="Connection Information">
                    &datasourceConnectionResourceConfigProps;
                    &nonXaDatasourceConnectionResourceConfigProps;
                </c:group>

                <c:group name="advanced" displayName="Advanced">
                    &datasourceAdvancedResourceConfigProps;

                    <c:simple-property name="track-connection-by-tx" type="boolean" activationPolicy="immediate"
                                       displayName="Track Connection By Transaction" required="true"
                                       default="true" readOnly="true">
                        <c:description>Whether the connection should be locked into the transaction.</c:description>
                    </c:simple-property>
                    
                <!--     
                    <c:list-property required="false" name="config-property" displayName="Connection Factory Properties"
                                     description="The managed connection factory configuration properties">
                        <c:map-property name="org.jboss.resource.metadata.mcf.ManagedConnectionFactoryPropertyMetaData"
                                        description="Map&lt;String,MetaValue&gt;">
                            <c:simple-property name="type"/>
                            <c:simple-property name="name"/>
                            <c:simple-property name="value"/>
                        </c:map-property>
                    </c:list-property>
                 -->
                </c:group>

                <c:template name="Oracle Local TX" description="Local Transaction Template for Oracle">
                    &nonXaDatasourceOracleTemplateProps;

                    <c:simple-property name="track-connection-by-tx" default="true"/>
                </c:template>

            </resource-configuration>

        </service>

        <service name="XA Datasource"
                 class="ManagedComponentComponent"
                 discovery="ManagedComponentDiscoveryComponent"
                 createDeletePolicy="both"
                 subCategory="Datasources"
                 description="XA Datasources deployed in the instance of JBoss AS">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="DataSource" readOnly="true"/>
                <c:simple-property name="componentSubType" default="XA" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="XADataSourceTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="jndi-name">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup" displayName="managedPropertyGroup" hiddenByDefault="true">
                    <c:simple-property name="datasource-type" default="xa-datasource">
                        <c:defaultValueDescription>Profile Services managed property call datasource type
                            which is used for datasources to have the correct main tag in a xxx-ds.xml file
                        </c:defaultValueDescription>
                    </c:simple-property>
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom Metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            &datasourceAndConnectionFactoryOperations;

            &datasourceMetrics;

            <metric displayName="Connection Count" property="connectionCount" displayType="summary"/>
            <metric displayName="Available Connection Count" property="availableConnectionCount" displayType="summary"/>
            <metric displayName="Maximum Connections in Use Count" property="maxConnectionsInUseCount"/>
            <metric displayName="In Use Connection Count" property="inUseConnectionCount"/>
            <metric displayName="Connection Created Count" property="connectionCreatedCount"/>
            <metric displayName="Connection Destroyed Count" property="connectionDestroyedCount"/>

            <resource-configuration>

                <!-- For ManagedProperty annotations, see:
                     https://anonsvn.jboss.org/repos/jbossas/trunk/connector/src/main/org/jboss/resource/metadata/mcf/XADataSourceDeploymentMetaData.java -->
                <c:group name="connection" displayName="Connection Information">

                    &datasourceConnectionResourceConfigProps;

                    <c:simple-property name="xa-datasource-class"
                                       displayName="XA DataSource Class"
                                       description="The fully qualified name of the javax.sql.XADataSource implementation class."
                                       activationPolicy="immediate"/>

                    <c:map-property name="xa-datasource-properties" displayName="XA Datasource Properties" required="true"
                            description="Properties used to configure the XADataSource.">
                        <c:description>
                            Specify properties to assign to the XADataSource implementation class.
                            Each property is mapped
                            onto the XADataSource implementation by looking for a JavaBeans style
                            getter method for the property name. If found, the value of the property is
                            set using the JavaBeans setter with the element text translated to the true
                            property type using the java.beans.PropertyEditor for the type.
                        </c:description>
                    </c:map-property>

                    <c:simple-property name="xa-resource-timeout"
                                       displayName="XA Resource Timeout"
                                       required="false"
                                       type="integer"
                                       activationPolicy="immediate">
                        <c:description>
                            XA transaction timeout, in seconds (passed to XAResource.setTransactionTimeout()) -
                            default is zero which does not invoke the setter.
                        </c:description>
                    </c:simple-property>

                    <c:simple-property name="url-property"
                                       displayName="URL Property"
                                       required="false"
                                       description="For HA XA datasource, specifies the name of an XA Datasource Property that contains a list of URLs."
                                       activationPolicy="immediate"/>
                </c:group>

                <c:group name="advanced" displayName="Advanced">
                    &datasourceAdvancedResourceConfigProps;

                    <c:simple-property name="track-connection-by-tx" type="boolean" activationPolicy="immediate"
                                       displayName="Track Connection By Transaction" required="false">
                        <c:description>Whether the connection should be locked into the transaction.</c:description>
                    </c:simple-property>

			<!--
                    <c:list-property required="false" name="config-property" displayName="Connection Factory Properties"
                                     description="The managed connection factory configuration properties">
                        <c:map-property name="org.jboss.resource.metadata.mcf.ManagedConnectionFactoryPropertyMetaData"
                                        description="Map&lt;String,MetaValue&gt;">
                            <c:simple-property name="type"/>
                            <c:simple-property name="name"/>
                            <c:simple-property name="value"/>
                        </c:map-property>
                    </c:list-property>
            
                    <c:map-property required="false" name="config-property" displayName="Connection Factory Properties"
                                    description="The managed connection factory configuration properties"/>
            -->
                </c:group>

                <c:template name="Oracle XA" description="XA Transaction Template for Oracle">
                    <c:simple-property name="type" default="xa-datasource"/>
                    <c:simple-property name="jndi-name" default="XAOracleDS"/>
                    <c:simple-property name="track-connection-by-tx" default="true"/>
                    <c:simple-property name="isSameRM-override-value" default="false"/>
                    <c:simple-property name="xa-datasource-class" default="oracle.jdbc.xa.client.OracleXADataSource"/>
                    <c:simple-property name="exception-sorter-class-name"
                                       default="org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter"/>
                    <!-- Oracles XA datasource cannot reuse a connection outside a transaction once enlisted in a global transaction and vice-versa -->
                    <c:simple-property name="no-tx-separate-pools" default="true"/>
                    <c:simple-property name="use-try-lock" default="60000"/>
                    <c:map-property name="metadata">
                        <c:simple-property name="typeMapping" default="Oracle9i"/>
                    </c:map-property>
                </c:template>

            </resource-configuration>

        </service>

        <service name="No TX ConnectionFactory"
                 class="ManagedComponentComponent"
                 createDeletePolicy="both"
                 subCategory="Connection Factories"
                 discovery="ManagedComponentDiscoveryComponent">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="ConnectionFactory" readOnly="true"/>
                <c:simple-property name="componentSubType" default="NoTX" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="NoTxConnectionFactoryTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="jndi-name">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup"
                         displayName="managedPropertyGroup"
                         hiddenByDefault="true">
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom Metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            <!-- Traits -->
            <metric property="local-transaction" displayType="summary"
                    displayName="Local Transaction" defaultOn="true" defaultInterval="600000" dataType="trait" category="performance"/>

            <resource-configuration>

                <c:group name="connection" displayName="Connection Information">

                    &datasourceConnectionResourceConfigProps;

                </c:group>

                <c:group name="advanced" displayName="Advanced">

                    &datasourceAdvancedResourceConfigProps;

                </c:group>
            </resource-configuration>

        </service>

        <service name="XA ConnectionFactory"
                 class="ManagedComponentComponent"
                 createDeletePolicy="both"
                 subCategory="Connection Factories"
                 discovery="ManagedComponentDiscoveryComponent">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="ConnectionFactory" readOnly="true"/>
                <c:simple-property name="componentSubType" default="XA" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="TxConnectionFactoryTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="jndi-name">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup"
                         displayName="managedPropertyGroup"
                         hiddenByDefault="true">
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom Metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            &datasourceAndConnectionFactoryOperations;
            
            <!-- Traits -->
            <metric property="poolJndiName" displayType="summary" displayName="Pool Jndi Name" defaultOn="true"
                    defaultInterval="600000" dataType="trait" category="performance"/>

            <!-- Numerics -->
            <metric property="availableConnectionCount" measurementType="dynamic" displayType="detail"
                    displayName="Available Connection Count" description="Mumber of available connections."
                    defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>

            <metric property="connectionCount" measurementType="dynamic" displayType="detail"
                    displayName="Connection Count" defaultOn="true" defaultInterval="60000" dataType="measurement"
                    category="performance"/>

            <metric property="connectionCreatedCount" measurementType="dynamic" displayType="detail"
                    displayName="Connection Created Count" defaultOn="true" defaultInterval="60000"
                    dataType="measurement" category="performance"/>

            <metric property="connectionDestroyedCount" measurementType="dynamic" displayType="detail"
                    displayName="Connection Destroyed Count" defaultOn="true" defaultInterval="60000"
                    dataType="measurement" category="performance"/>

            <metric property="inUseConnectionCount" measurementType="dynamic" displayType="detail"
                    displayName="In Use Connection Count" description="Mumber of connections currently in use."
                    defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>

            <metric property="maxConnectionsInUseCount" measurementType="dynamic" displayType="detail"
                    displayName="Max Connections In Use Count" description="Maximum number of maximum connections that have been in use."
                    defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>

            <metric property="maxSize" measurementType="dynamic" displayType="detail" displayName="Max Size"
                    defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>

            <metric property="minSize" measurementType="dynamic" displayType="detail" displayName="Min Size"
                    defaultOn="true" defaultInterval="60000" dataType="measurement" category="performance"/>

            <resource-configuration>

                <c:group name="connection" displayName="Connection Information">

                    &connectionFactoryConnectionResourceConfigProps;

                </c:group>

                <c:group name="advanced" displayName="Advanced">

                    &connectionFactoryAdvancedResourceConfigProps;

                    <c:simple-property name="xa-transaction"
                                       type="boolean"
                                       activationPolicy="immediate"
                                       displayName="XA Transaction"
                                       required="false">
                        <c:description>Whether on not to use XA transactions - default is false.</c:description>
                    </c:simple-property>

                    <c:simple-property name="xa-resource-timeout"
                                       type="integer"
                                       activationPolicy="immediate"
                                       displayName="XA Resource Timeout"
                                       units="minutes"
                                       required="false">
                        <c:description>Maximum time in minutes an XA Resource can be idle before it is removed.
                        </c:description>
                        <c:constraint>
                            <c:integer-constraint minimum="0"/>
                        </c:constraint>
                    </c:simple-property>

                    <c:simple-property name="local-transaction"
                                       type="boolean"
                                       activationPolicy="immediate"
                                       displayName="Local Transaction"
                                       required="false">
                        <c:description>Whether on not to use local transactions - default is false.</c:description>
                    </c:simple-property>

                </c:group>
            </resource-configuration>

        </service>

        <service name="Queue"
                 class="ManagedComponentComponent"
                 createDeletePolicy="both"
                 subCategory="JMS Destinations"
                 discovery="ManagedComponentDiscoveryComponent">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="JMSDestination" readOnly="true"/>
                <c:simple-property name="componentSubType" default="Queue" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="QueueTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="JNDIName">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup" displayName="managedPropertyGroup" hiddenByDefault="true">
                    <c:simple-property name="jms-type" default="queue"/>
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                        <!--
                        <c:simple-property name="securityConfig"
                                           defaultValue="org.rhq.plugins.jbossas5.adapter.impl.configuration.custom.JMSSecurityConfigAdapter"/>
                         -->
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom Metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            &destinationOperations;

            <operation name="listMessageCounterAsHTML" displayName="List Message Counter As HTML" description="Get the message counter as HTML">
                <results>
                    <c:simple-property name="result"/>
                </results>
            </operation>

            <operation name="listMessageCounterHistoryAsHTML" displayName="List Message Counter History As HTML" description="Get the message counter history as HTML">
                <results>
                    <c:simple-property name="result"/>
                </results>
            </operation>

            <operation name="resetMessageCounter" displayName="Reset Message Counter" description="Reset the message counter"/>

            <operation name="resetMessageCounterHistory" displayName="Reset Message Counter History" description="Reset the message counter history"/>

            <!-- Traits -->
            <metric property="name" displayType="detail" displayName="Name"
                    description="The queue name" defaultOn="true" defaultInterval="60000" dataType="trait" category="performance"/>
            <metric property="createdProgrammatically" displayType="detail" displayName="Created Programmatically"
                    description="True if this queue was created programmatically" defaultOn="true" defaultInterval="60000" dataType="trait" category="performance"/>

            <!-- Numerics -->
            <metric property="consumerCount" measurementType="dynamic" displayType="detail" displayName="Consumer Count"
                    description="The number of consumers on the queue" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="deliveringCount" measurementType="dynamic" displayType="detail" displayName="Delivering Count"
                    description="The number of messages currently being delivered" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="messageCount" measurementType="dynamic" displayType="detail" displayName="Message Count"
                    description="The number of messages in the queue" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="scheduledMessageCount" measurementType="dynamic" displayType="detail" displayName="Scheduled Message Count"
                    description="The number of scheduled messages in the queue" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>

            <metric property="messageStatistics.count" measurementType="dynamic" displayType="detail" displayName="Count"
                    description="The total message count since startup or last counter reset" defaultOn="true" defaultInterval="60000" dataType="measurement" category="utilization"/>
            <metric property="messageStatistics.countDelta" measurementType="dynamic" displayType="detail" displayName="Count Delta"
                    description="The message count delta since last method call" defaultOn="true" defaultInterval="60000" dataType="measurement" category="utilization"/>
            <metric property="messageStatistics.depth" measurementType="dynamic" displayType="detail" displayName="Depth"
                    description="The current message count of pending messages within the queue waiting for dispatch" defaultOn="true" defaultInterval="60000" dataType="measurement" category="utilization"/>
            <metric property="messageStatistics.depthDelta" measurementType="dynamic" displayType="detail" displayName="Depth Delta"
                    description="The message count delta of pending messages since last method call" defaultOn="true" defaultInterval="60000" dataType="measurement" category="utilization"/>
            <metric property="messageStatistics.timeLastUpdate" measurementType="dynamic" displayType="detail" displayName="Time Last Update"
                    description="The timestamp of the last message add" defaultOn="true" defaultInterval="60000" dataType="measurement" category="utilization"/>
            
            <resource-configuration>

                <!-- See: https://anonsvn.jboss.org/repos/jbossas/trunk/messaging/src/main/org/jboss/jms/server/destination/QueueServiceMO.java -->

                <c:simple-property required="true" name="JNDIName"
                                   description="The queue's JNDI name; default is '/queue/{queueName}'."/>

                <c:simple-property type="boolean" required="false" name="clustered"
                                   description="Is this queue clustered?"/>

                <c:simple-property type="integer" required="false" name="downCacheSize">
                    <c:description>
                        When paging messages to storage from a subscription, they first go into a &quot;Down Cache&quot; before
                        being written to storage. This enables the write to occur as a single operation, thus aiding
                        performance. This setting determines the maximum number of messages that the Down Cache will hold
                        before they are flushed to storage. Can only be set when the topic is stopped. The default value is 2000.
                    </c:description>
                </c:simple-property>

                <c:simple-property type="integer" required="false" name="fullSize">
                    <c:description>
                        The maximum number of messages held by the queue in memory at any one time.
                        The actual subscription can hold many more messages than this, but these are paged to and from
                        storage as necessary, as messages are added or consumed. Can only be set when the topic is stopped.
                        The default value is 75000.
                    </c:description>
                </c:simple-property>

                <c:simple-property type="integer" required="false" name="maxDeliveryAttempts"
                                   description="The number of delivery attempts before a message to this queue is moved to the DLQ."/>

                <c:simple-property type="integer" required="false" name="maxSize"
                                   description="The maximum number of messages this queue can hold before they are dropped."/>

                <c:simple-property type="integer" required="false" name="messageCounterHistoryDayLimit"
                                   description="This queue's message counter history day limit - &lt;0: unlimited, =0: disabled, &gt;0: maximum day count."/>

                <c:simple-property type="integer" required="false" name="pageSize">
                    <c:description>
                        When loading messages from a subscription, this is the maximum number of messages to
                        pre-load in one operation. Can only be set when the topic is stopped. The default value is 2000.
                    </c:description>
                </c:simple-property>

                <c:simple-property type="long" required="false" name="redeliveryDelay" units="milliseconds"
                                   description="The delay in milliseconds before a rolled back or recovered message is redelivered."/>

                <!--
                <c:map-property required="false" name="DLQ"
                                description="The ObjectName of the DLQ for this queue, overrides the default DLQ on the server peer"/>
                <c:map-property required="false" name="expiryQueue"
                                description="The ObjectName of the expiry queue for this queue, overrides the default expiry queue on the server peer"/>
                <c:map-property required="false" name="serverPeer"
                                description="The ObjectName of the server peer this queue was deployed on"/>                                
                <c:map-property required="false" name="securityConfig"
                                description="The queue's security configuration"/>
                -->
                <!--
                <c:list-property name="securityConfig" max="4" min="2"
                                 displayName="Security Configurations"
                                 description="This element specifies a XML fragment which describes the access control list to be used by the SecurityManager to authorize client operations against the destination. The content model is the same as for the SecurityManager SecurityConf attribute.">
                    <c:map-property name="role"
                                    displayName="Security Configuration Attributes"
                                    description="These are the attributes that define the role name, and if the role is allowed to read, write or create Messages on this Queue">
                        <c:simple-property name="name"
                                           displayName="Name"
                                           description="Name of the Security Role. e.g. Guest"
                                           summary="true"
                                           required="true"/>
                        <c:simple-property name="read"
                                           displayName="Read"
                                           description="Is this role allowed to read messages?"
                                           summary="true"
                                           required="false"
                                           type="boolean"/>
                        <c:simple-property name="write"
                                           displayName="Write"
                                           description="Is this role allowed to write messages?"
                                           summary="true"
                                           required="false"
                                           type="boolean"/>
                        <c:simple-property name="create"
                                           displayName="Create"
                                           description="Is this role allowed to create messages?"
                                           summary="true"
                                           required="false"
                                           type="boolean"/>
                    </c:map-property>

                </c:list-property>
                -->
            </resource-configuration>
        </service>

        <service name="Topic"
                 class="ManagedComponentComponent"
                 createDeletePolicy="both"
                 subCategory="JMS Destinations"
                 discovery="ManagedComponentDiscoveryComponent">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="JMSDestination" readOnly="true"/>
                <c:simple-property name="componentSubType" default="Topic" readOnly="true"/>
                <c:simple-property name="componentName" readOnly="true"/>
                <c:simple-property name="templateName" default="TopicTemplate" readOnly="true"/>
                <c:simple-property name="resourceName" default="JNDIName">
                    <c:defaultValueDescription>This holds the property in the configuration to use
                        to define the filename that the profile service should use in the creation of a file
                    </c:defaultValueDescription>
                </c:simple-property>
                <c:group name="managedPropertyGroup" displayName="managedPropertyGroup" hiddenByDefault="true">
                    <c:simple-property name="jms-type" default="topic"/>
                    <c:map-property name="customProperties"
                                    description="Holds a list of custom properties, and the Adapter type class to use ">
                        <!--
                        <c:simple-property name="securityConfig"
                                           defaultValue="org.rhq.plugins.jbossas5.adapter.impl.configuration.custom.JMSSecurityConfigAdapter"/>
                        -->
                    </c:map-property>
                    <c:map-property name="customMetrics"
                                    description="Holds a list of custom Metrics, and the Adapter class to use">
                    </c:map-property>
                </c:group>
            </plugin-configuration>

            &destinationOperations;

            <operation name="listAllSubscriptions" displayName="List All Subscriptions"
                       description="Return all subscriptions for the topic">
                <results>
                    <c:list-property name="result">
                        <c:simple-property required="false" name="item"/>
                    </c:list-property>
                </results>
            </operation>

            <operation name="listAllSubscriptionsAsHTML" displayName="List All Subscriptions As HTML"
                       description="Return all subscriptions for the topic in HTML">
                <results>
                    <c:simple-property name="result"/>
                </results>
            </operation>

            <operation name="listDurableSubscriptions" displayName="List Durable Subscriptions"
                       description="Return all durable subscriptions for the topic">
                <results>
                    <c:list-property name="result">
                        <c:simple-property required="false" name="item"/>
                    </c:list-property>
                </results>
            </operation>

            <operation name="listDurableSubscriptionsAsHTML" displayName="List Durable Subscriptions As HTML"
                       description="Return all durable subscriptions for the topic in HTML">
                <results>
                    <c:simple-property name="result"/>
                </results>
            </operation>

            <operation name="listNonDurableSubscriptions" displayName="List Non Durable Subscriptions"
                       description="Return all non durable subscriptions for the topic">
                <results>
                    <c:list-property name="result">
                        <c:simple-property required="false" name="item"/>
                    </c:list-property>
                </results>
            </operation>

            <operation name="listNonDurableSubscriptionsAsHTML" displayName="List Non Durable Subscriptions As HTML"
                       description="Return all non durable subscriptions for the topic in HTML">
                <results>
                    <c:simple-property name="result"/>
                </results>
            </operation>

            <!-- Traits -->
            <metric property="name" displayType="summary" displayName="Name"
                    description="The destination name" defaultOn="true" defaultInterval="60000" dataType="trait" category="performance"/>
            <metric property="createdProgrammatically" displayType="summary" displayName="Created Programmatically"
                    description="True if this destination was created programmatically" defaultOn="true" defaultInterval="60000" dataType="trait" category="performance"/>

            <!-- Numerics -->
            <metric property="allMessageCount" measurementType="dynamic" displayType="detail" displayName="All Message Count"
                    description="The count of all messages in all subscriptions of this topic" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="allSubscriptionsCount" measurementType="dynamic" displayType="detail" displayName="All Subscriptions Count"
                    description="The count of all subscriptions of this topic" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="durableMessageCount" measurementType="dynamic" displayType="detail" displayName="Durable Message Count"
                    description="The count of all messages in all durable subscriptions of this topic" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="durableSubscriptionsCount" measurementType="dynamic" displayType="detail" displayName="Durable Subscriptions Count"
                    description="The count of all durable subscriptions of this topic" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="nonDurableMessageCount" measurementType="dynamic" displayType="detail" displayName="Non Durable Message Count"
                    description="The count of all messages in all non durable subscriptions of this topic" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            <metric property="nonDurableSubscriptionsCount" measurementType="dynamic" displayType="detail" displayName="Non Durable Subscriptions Count"
                    description="The count of all non durable subscriptions of this topic" defaultOn="true" defaultInterval="60000" dataType="measurement" category="throughput"/>
            
            <resource-configuration>

                <!-- See: https://anonsvn.jboss.org/repos/jbossas/trunk/messaging/src/main/org/jboss/jms/server/destination/TopicServiceMO.java -->

                <c:simple-property required="true" name="JNDIName"
                                   description="The topic's JNDI name; default is '/topic/{topicName}'."/>

                <c:simple-property type="boolean" required="false" name="clustered"
                                   description="Is this topic clustered?"/>

                <c:simple-property type="integer" required="false" name="downCacheSize">
                    <c:description>
                        When paging messages to storage from a subscription, they first go into a &quot;Down Cache&quot; before
                        being written to storage. This enables the write to occur as a single operation, thus aiding
                        performance. This setting determines the maximum number of messages that the Down Cache will hold
                        before they are flushed to storage. Can only be set when the topic is stopped. The default value is 2000.
                    </c:description>
                </c:simple-property>

                <c:simple-property type="integer" required="false" name="fullSize">
                    <c:description>
                        The maximum number of messages held by the topic subscriptions in memory at any one time.
                        The actual subscription can hold many more messages than this, but these are paged to and from
                        storage as necessary, as messages are added or consumed. Can only be set when the topic is stopped.
                        The default value is 75000.
                    </c:description>
                </c:simple-property>

                <c:simple-property type="integer" required="false" name="maxDeliveryAttempts"
                                   description="The number of delivery attempts before a message to a subscriber of this topic is moved to the DLQ."/>

                <c:simple-property type="integer" required="false" name="maxSize"
                                   description="The maximum number of messages this topic can hold before they are dropped."/>

                <c:simple-property type="integer" required="false" name="messageCounterHistoryDayLimit"
                                   description="This topic's message counter history day limit - &lt;0: unlimited, =0: disabled, &gt;0: maximum day count."/>

                <c:simple-property type="integer" required="false" name="pageSize">
                    <c:description>
                        When loading messages from a subscription, this is the maximum number of messages to
                        pre-load in one operation. Can only be set when the topic is stopped. The default value is 2000.
                    </c:description>
                </c:simple-property>

                <c:simple-property type="long" required="false" name="redeliveryDelay" units="milliseconds"
                                   description="The delay in milliseconds before a rolled back or recovered message is redelivered."/>

                <!--
                <c:map-property required="false" name="DLQ"
                                description="The ObjectName of the DLQ for this topic, overrides the default DLQ on the server peer"/>
                <c:map-property required="false" name="expiryQueue"
                                description="The ObjectName of the expiry queue for this topic, overrides the default expiry queue on the server peer"/>
                <c:map-property required="false" name="serverPeer"
                                description="The ObjectName of the server peer this topic was deployed on"/>
                <c:map-property required="false" name="securityConfig"
                                description="The topic's security configuration"/>
                -->
                <!--
                <c:list-property name="securityConfig" max="4" min="2"
                                 displayName="Security Configurations"
                                 description="This element specifies a XML fragment which describes the access control list to be used by the SecurityManager to authorize client operations against the destination. The content model is the same as for the SecurityManager SecurityConf attribute.">
                    <c:map-property name="role"
                                    displayName="Security Configuration Attributes"
                                    description="These are the attributes that define the role name, and if the role is allowed to read, write or create Messages on this Queue">
                        <c:simple-property name="name"
                                           displayName="Name"
                                           description="Name of the Security Role. e.g. Guest"
                                           summary="true"
                                           required="true"/>
                        <c:simple-property name="read"
                                           displayName="Read"
                                           description="Is this role allowed to read messages?"
                                           summary="true"
                                           required="false"
                                           type="boolean"/>
                        <c:simple-property name="write"
                                           displayName="Write"
                                           description="Is this role allowed to write messages?"
                                           summary="true"
                                           required="false"
                                           type="boolean"/>
                        <c:simple-property name="create"
                                           displayName="Create"
                                           description="Is this role allowed to create messages?"
                                           summary="true"
                                           required="false"
                                           type="boolean"/>
                    </c:map-property>
                </c:list-property>
                -->
            </resource-configuration>
        </service>


        <!-- ======================================== Deployment types ======================================= -->

        <service name="Enterprise Application (EAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="Enterprise Application"
                 createDeletePolicy="both"
                 creationDataType="content">

            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this EAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="ear" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="Enterprise Application" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this EAR file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this EAR is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName="Ear File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>

        <service name="Web Application (WAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="Web Applications"
                 createDeletePolicy="both"
                 creationDataType="content">
        
            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this WAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="war" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="Web Application" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this WAR file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this WAR is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName="War File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>

        <service name="EJB Application (EJB JAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="EJB Applications"
                 createDeletePolicy="both"
                 creationDataType="content">

            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this JAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="jar" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="EJB Application" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this EJB JAR file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this EJB JAR is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName="Jar File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>

        <service name="JBoss Service (SAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="JBoss Services"
                 createDeletePolicy="both"
                 creationDataType="content">

            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this SAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="sar" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="JBoss Services" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this SAR file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this SAR is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName="Sar File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>

        <service name="Resource Adaptor (RAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="Resource Adaptors"
                 createDeletePolicy="both"
                 creationDataType="content">

            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this RAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="beans" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="Resource Adaptor" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this RAR file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this RAR is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName="Rar File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>

        <service name="Persistence Unit (PAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="JPA Persistence Units"
                 createDeletePolicy="both"
                 creationDataType="content">

            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this PAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="par" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="Peristence Unit" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this PAR file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this PAR is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName="Par File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>

        <service name="Microcontainer Beans (MC Beans)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas5.ManagedDeploymentComponent"
                 discovery="org.rhq.plugins.jbossas5.ManagedDeploymentDiscoveryComponent"
                 description="Microcontainer Beans"
                 createDeletePolicy="both"
                 creationDataType="content">

            <plugin-configuration>
                <c:group name="general" displayName="General">
                    <c:simple-property name="deploymentName" description="The name of this .beans" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                </c:group>
                <c:group name="advanced" displayName="Advanced" hiddenByDefault="true">
                    <c:simple-property name="extension" default="war" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="MC Beans" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <metric property="custom.path" displayName="Path"
                    dataType="trait" displayType="summary"
                    description="the absolute path of this MC Bean file or directory"/>

            <metric property="custom.exploded" displayName="Exploded?"
                    dataType="trait" displayType="summary"
                    description="whether this MC Bean is deployed exploded (i.e. as a directory)"/>

            <content name="file" displayName=".beans File" category="deployable" isCreationType="true">
            </content>

            <resource-configuration>
                &deploymentResourceConfigProps;
            </resource-configuration>

        </service>


 <!--
            <service name="Web Application (WAR)"
                     subCategory="Applications"
                     class="org.rhq.plugins.jbossas.WarComponent"
                     discovery="org.rhq.plugins.jbossas.EmbeddedWarDiscoveryComponent"
                     description="Web Application embedded inside of an Enterprise Application"
                     createDeletePolicy="neither">

     -->
<!-- jboss.management.local:J2EEApplication=rhq.ear,J2EEServer=Local,j2eeType=WebModule,name=rhq-portal.war -->
<!--

                <plugin-configuration>
                    <c:group name="General">
                        <c:simple-property name="name" description="The name of this WAR" readOnly="true"/>
                        <c:simple-property name="filename" readOnly="true"/>
                        <c:simple-property name="objectName" readOnly="true"
                                           default=" Generated by discovery component "/>
                        <c:simple-property name="contextRoot" readOnly="true" required="false"
                                           description="this WAR's context root - used as a unique path prefix for URLs corresponding to this WAR"/>
                    </c:group>
                    <c:group name="ResponseTime">
                        <c:simple-property name="responseTimeLogFile" required="false"
                                           description="the full path to the log file containing response-time stats for this webapp"/>
                        <c:simple-property name="responseTimeUrlExcludes" required="false"
                                           description="a space-delimited list of regular expressions specifying URLs that should be excluded from response-time stats collection"/>
                        <c:simple-property name="responseTimeUrlTransforms" required="false"
                                           description="a space-delimited list of Perl-style substitution expressions that should be applied to all URLs for which response-time stats are collected (e.g. |^/dept/finance/.*|/dept/finance/*|)"/>
                    </c:group>
                    <c:group name="Advanced" hiddenByDefault="true">
                        <c:simple-property name="nameTemplate" default="{name}"/>
                        <c:simple-property name="extension" default="war" readOnly="true"/>
                        <c:simple-property name="descriptionTemplate" default="Embedded Web Application" readOnly="true"/>
                    </c:group>
                </plugin-configuration>

                <operation name="start"
                           description="starts this webapp; NOTE: this operation is *not* supported for JBossAS versions prior to 4.0.4.GA (see http://jira.jboss.org/jira/browse/JBAS-3006)"/>
                <operation name="stop"
                           description="stops this webapp; NOTE: this operation is *not* supported for JBossAS versions prior to 4.0.4.GA (see http://jira.jboss.org/jira/browse/JBAS-3006)"/>
                <operation name="reload"
                           description="reloads this webapp; NOTE: if the webapp is not in the started state, this operation will fail"/>

                <metric property="ContextRoot" displayName="Context Root"
                        dataType="trait" displayType="summary"
                        description="this WAR's context root - used as a unique path prefix for URLs corresponding to this WAR"/>

                <metric property="ResponseTime" displayName="HTTP Response Time"
                        dataType="calltime" defaultOn="false" units="milliseconds" destinationType="URL"
                        description="the minimum, maximum, and average response times for HTTP requests serviced by this webapp"/>

                <metric property="Servlet.MinResponseTime" displayName="Min. Servlet Resp. Time"
                        units="milliseconds"
                        description="Minimum response time of a servlet"/>

                <metric property="Servlet.AvgResponseTime" displayName="Avg. Servlet Resp. Time"
                        units="milliseconds"
                        description="Average response time of a servlet"/>

                <metric property="Servlet.MaxResponseTime" displayName="Max. Servlet Resp. Time"
                        units="milliseconds"
                        description="Maximum response time of a servlet"/>

                <metric property="Servlet.TotalTime" displayName="Total processing time"
                        units="milliseconds"
                        description="Total processing time of the webapp" measurementType="trendsup"/>

                <metric property="Servlet.NumRequests" displayName="Requests served"
                        units="none" description="Number of requests served by servlets"
                        measurementType="trendsup" displayType="summary"/>

                <metric property="Servlet.NumErrors" displayName="Errors while processing"
                        units="none" description="Number of errors while processing"
                        measurementType="trendsup" displayType="summary"/>

                <metric property="Session.activeSessions" displayName="Currently Active Sessions"
                        units="none" description="Number active sessions for the webapp right now" />

                <metric property="Session.maxActive" displayName="Maximum number of Active Sessions"
                        units="none" description="Maximum number of active sessions for the webapp" />

                <metric property="Session.sessionCounter" displayName="Sessions created"
                        units="none" description="Number of sessions created for the webapp"
                        measurementType="trendsup" />

                <metric property="Session.expiredSessions" displayName="Expired Sessions"
                        units="none" description="Number of expired sessions for the webapp"
                        measurementType="trendsup" />

                <metric property="Session.rejectedSessions" displayName="Rejected Sessions"
                        units="none" description="Number of sessions rejected for the webapp"
                        measurementType="trendsup" />

                <metric property="Session.sessionAverageAliveTime" displayName="Session Average alive time"
                        units="seconds" description="Average alive time of a Sessions" />

                <metric property="Session.sessionMaxAliveTime" displayName="Max Session alive time"
                        units="seconds" description="Maximum alive time of a Sessions" />

            </service>

        </service>
-->

        <!--<service name="Web Application (WAR)"
                 subCategory="Applications"
                 class="org.rhq.plugins.jbossas.WarComponent"
                 discovery="org.rhq.plugins.jbossas.WarDiscoveryComponent"
                 description="Web Application"
                 createDeletePolicy="both"
                 creationDataType="content">

            --><!-- jboss.management.local:j2eeType=WebModule,J2EEServer=Local,J2EEApplication=null,name=jay-web.war  --><!--

            <plugin-configuration>
                <c:group name="General">
                    <c:simple-property name="name" description="The name of this WAR" readOnly="true"/>
                    <c:simple-property name="filename" readOnly="true"/>
                    <c:simple-property name="objectName" readOnly="true"
                                       default="jboss.management.local:j2eeType=WebModule,J2EEServer=Local,J2EEApplication=null,name=%name%"/>
                    <c:simple-property name="contextRoot" readOnly="true" required="false"
                                       description="this WAR's context root - used as a unique path prefix for URLs corresponding to this WAR"/>
                </c:group>
                <c:group name="ResponseTime">
                    <c:simple-property name="responseTimeLogFile" required="false"
                                       description="the full path to the log file containing response-time stats for this webapp"/>
                    <c:simple-property name="responseTimeUrlExcludes" required="false"
                                       description="a space-delimited list of regular expressions specifying URLs that should be excluded from response-time stats collection"/>
                    <c:simple-property name="responseTimeUrlTransforms" required="false"
                                       description="a space-delimited list of Perl-style substitution expressions that should be applied to all URLs for which response-time stats are collected (e.g. |^/dept/finance/.*|/dept/finance/*|)"/>
                </c:group>
                <c:group name="Advanced" hiddenByDefault="true">
                    <c:simple-property name="nameTemplate" default="{name}"/>
                    <c:simple-property name="extension" default="war" readOnly="true"/>
                    <c:simple-property name="descriptionTemplate" default="Web Application" readOnly="true"/>
                </c:group>
            </plugin-configuration>

            <operation name="start"
                       description="starts this webapp; NOTE: this operation is *not* supported for JBossAS versions prior to 4.0.4.GA (see http://jira.jboss.org/jira/browse/JBAS-3006)"/>
            <operation name="stop"
                       description="stops this webapp; NOTE: this operation is *not* supported for JBossAS versions prior to 4.0.4.GA (see http://jira.jboss.org/jira/browse/JBAS-3006)"/>
            <operation name="reload"
                       description="reloads this webapp; NOTE: if the webapp is not in the started state, this operation will fail"/>

            <metric property="ContextRoot" displayName="Context Root"
                    dataType="trait" displayType="summary"
                    description="this WAR's context root - used as a unique path prefix for URLs corresponding to this WAR"/>

            <metric property="ResponseTime" displayName="HTTP Response Time"
                    dataType="calltime" defaultOn="false" units="milliseconds" destinationType="URL"
                    description="the minimum, maximum, and average response times for HTTP requests serviced by this webapp"/>

            <metric property="Servlet.MinResponseTime" displayName="Min. Servlet Resp. Time"
                    units="milliseconds"
                    description="Minimum response time of a servlet"/>

            <metric property="Servlet.AvgResponseTime" displayName="Avg. Servlet Resp. Time"
                    units="milliseconds"
                    description="Average response time of a servlet"/>

            <metric property="Servlet.MaxResponseTime" displayName="Max. Servlet Resp. Time"
                    units="milliseconds"
                    description="Maximum response time of a servlet"/>

            <metric property="Servlet.TotalTime" displayName="Total processing time"
                    units="milliseconds"
                    description="Total processing time of the webapp" measurementType="trendsup"/>

            <metric property="Servlet.NumRequests" displayName="Requests served"
                    units="none" description="Number of requests served by servlets"
                    measurementType="trendsup" displayType="summary"/>

            <metric property="Servlet.NumErrors" displayName="Errors while processing"
                    units="none" description="Number of errors while processing"
                    measurementType="trendsup" displayType="summary"/>

            <metric property="Session.activeSessions" displayName="Currently Active Sessions"
                    units="none" description="Number active sessions for the webapp right now" />

            <metric property="Session.maxActive" displayName="Maximum number of Active Sessions"
                    units="none" description="Maximum number of active sessions for the webapp" />

            <metric property="Session.sessionCounter" displayName="Sessions created"
                    units="none" description="Number of sessions created for the webapp"
                    measurementType="trendsup" />

            <metric property="Session.expiredSessions" displayName="Expired Sessions"
                    units="none" description="Number of expired sessions for the webapp"
                    measurementType="trendsup" />

            <metric property="Session.rejectedSessions" displayName="Rejected Sessions"
                    units="none" description="Number of sessions rejected for the webapp"
                    measurementType="trendsup" />

            <metric property="Session.sessionAverageAliveTime" displayName="Session Average alive time"
                    units="seconds" description="Average alive time of a Sessions" />

            <metric property="Session.sessionMaxAliveTime" displayName="Max Session alive time"
                    units="seconds" description="Maximum alive time of a Sessions" />

            <content name="file" displayName="WAR File" category="deployable" isCreationType="true">
                <configuration>
                    <c:group name="deployment" displayName="Deployment Options">
                        <c:simple-property name="deployZipped" displayName="Deploy Zipped" type="boolean" default="false"
                                           description="Indicates if the WAR is deployed either zipped or exploded."/>
                    </c:group>
                </configuration>
            </content>

        </service>
-->
        <!--
        <service name="webApplication" class="JBossWebAppComponent" discovery="JBossWebAppDiscoveryComponent"
                 description="Web applications deployed in the server.">
        </service>
        -->
        <!-- Not sure now if this nested service is needed with the Profile Service-->
        <!--service name="log4j" class="ManagedComponentComponent" discovery="ManagedComponentDiscoveryComponent"
                 subCategory="teaser" description="Log4J Setting of Appenders, Root, and Categories">

            <plugin-configuration>
                <c:simple-property name="componentParentType" default="Log4j" readOnly="true"/>
                <c:simple-property name="componentSubType" default="Logger" readOnly="true"/>
                <c:simple-property name="deploymentName" readOnly="true"/>
                <c:simple-property name="templateName" readOnly="true"/>
            </plugin-configuration>

            <service name="FileAppender" class="ProfileDatasourceComponent">
                <plugin-configuration>
                    <c:simple-property name="componentParentType" default="Log4j" readOnly="true"/>
                    <c:simple-property name="componentSubType" default="Appender" readOnly="true"/>
                    <c:simple-property name="deploymentName" readOnly="true"/>
                    <c:simple-property name="templateName" readOnly="true"/>
                </plugin-configuration>
                <resource-configuration>
                    <c:simple-property name="appenderName"/>
                    <c:simple-property name="appenderClass"/>
                    <c:simple-property name="errorHandler"/>
                    <c:map-property name="params" displayName="Parameters">
                        <c:simple-property name="param-name"/>
                        <c:simple-property name="param-value"/>
                    </c:map-property>
                </resource-configuration>
            </service>
            <service name="ConsoleAppender" class="ProfileDatasourceComponent">
                <plugin-configuration>
                    <c:simple-property name="componentParentType" default="Log4j" readOnly="true"/>
                    <c:simple-property name="componentSubType" default="Appender" readOnly="true"/>
                    <c:simple-property name="deploymentName" readOnly="true"/>
                    <c:simple-property name="templateName" readOnly="true"/>
                </plugin-configuration>
                <resource-configuration>
                    <c:simple-property name="appenderName"/>
                    <c:simple-property name="errorHandler"/>
                    <c:map-property name="params" displayName="Parameters">
                        <c:simple-property name="param-name"/>
                        <c:simple-property name="param-value"/>
                    </c:map-property>
                </resource-configuration>
            </service>
            <service name="Root" class="ProfileDatasourceComponent">
                <plugin-configuration>
                    <c:simple-property name="componentParentType" default="Log4j" readOnly="true"/>
                    <c:simple-property name="componentSubType" default="Root" readOnly="true"/>
                    <c:simple-property name="deploymentName" readOnly="true"/>
                    <c:simple-property name="templateName" readOnly="true"/>
                </plugin-configuration>
                <resource-configuration>
                    <c:list-property name="root" displayName="Root Appenders" required="true">
                        <c:simple-property name="appenderRef" displayName="Appender" required="true" type="string"/>
                    </c:list-property>
                </resource-configuration>
            </service>
            <service name="Category" class="ProfileDatasourceComponent">
                <plugin-configuration>
                    <c:simple-property name="componentParentType" default="Log4j" readOnly="true"/>
                    <c:simple-property name="componentSubType" default="Category" readOnly="true"/>
                    <c:simple-property name="deploymentName" readOnly="true"/>
                    <c:simple-property name="templateName" readOnly="true"/>
                </plugin-configuration>
                <resource-configuration>
                    <c:map-property name="category" displayName="Category">
                        <c:simple-property name="class" displayName="Class" activationPolicy="immediate" required="true"
                                           type="string">
                            <c:description>Package for the category of logging</c:description>
                        </c:simple-property>
                        <c:list-property name="appenderRefs" displayName="Appender Refs">
                            <c:simple-property name="value" displayName="Value"/>
                        </c:list-property>
                    </c:map-property>
                </resource-configuration>
            </service>
        </service>-->
    </server>

</plugin>
